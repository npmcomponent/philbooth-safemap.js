(function(e){"use strict";function t(e){function s(e){return o(e)?y.isSet:u.call(m,e)}function f(e,t){return o(e)?y.value:s(e)?m[e]:t}function c(e,t){o(e)?(y.isSet=!0,y.value=t):m[e]=t}function a(e){o(e)?(y.isSet=!1,delete y.value):delete m[e]}function l(){m={}}function h(e){return d(e)&&i(r.noValue,e),f(e)}function d(e){return s(e)===!1}function v(e,t){s(e)&&i(r.keyExists,e),c(e,t)}function p(e){d(e)&&i(r.noValue,e),a(e)}var y,m;return this instanceof t==!1?new t(e):(y={isSet:!1},m={},"object"==typeof e&&null!==e&&n(m,e),this.has=s,this.get=f,this.set=c,this.remove=a,this.clear=l,this.safeGet=h,this.safeSet=v,this.safeRemove=p,void 0)}function n(e,t){var n;for(n in t)u.call(t,n)&&(e[n]=t[n])}function o(e){return"__proto__"===e}function i(e,t){throw Error(e+" for key `"+t+"`")}var u=Object.prototype.hasOwnProperty,r={noValue:"No value",keyExists:"Key exists"};"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&null!==module?module.exports=t:e.SafeMap=t})(this);