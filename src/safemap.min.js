(function(e){"use strict";function t(e){function f(e){return i(e)?y.isSet:u.call(m,e)}function s(e,t){return i(e)?y.value:f(e)?m[e]:t}function c(e,t){i(e)?(y.isSet=!0,y.value=t):m[e]=t}function a(e){i(e)?(y.isSet=!1,delete y.value):delete m[e]}function l(){m={}}function h(e){return d(e)&&o(r.noValue,e),s(e)}function d(e){return f(e)===!1}function v(e,t){f(e)&&o(r.keyExists,e),c(e,t)}function p(e){d(e)&&o(r.noValue,e),a(e)}var y,m;return this instanceof t==!1?new t(e):(y={isSet:!1},m={},"object"==typeof e&&null!==e&&n(m,e),this.has=f,this.get=s,this.set=c,this.remove=a,this.clear=l,this.safeGet=h,this.safeSet=v,this.safeRemove=p,void 0)}function n(e,t){var n;for(n in t)u.call(t,n)&&(e[n]=t[n])}function i(e){return"__proto__"===e}function o(e,t){throw Error(e+" for key `"+t+"`")}var u=Object.prototype.hasOwnProperty,r={noValue:"No value",keyExists:"Key exists"};"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&null!==module?module.exports=t:e.SafeMap=t})(this);